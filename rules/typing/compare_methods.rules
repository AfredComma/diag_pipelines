rule flatten_distance_matrix:
    conda:
        "env/R.yaml"
    input:
        "alignments/distance_{ref}.txt"
    output:
        "alignments/flat_distance_{ref}.txt"
    script:
        "scripts/flatten.R"

    
rule merge_flat_distance_files:
    conda:
        "env/R.yaml"
    input: lambda wildcards: expand("alignments/flat_distance_{ref}.txt", ref=wildcards.refs.split("_and_"))
    output:
       "alignments/comparison_{refs}.pdf"
    script:
        "scripts/comparison.R"
       
