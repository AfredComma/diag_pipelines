rule compress_vcf:
    conda:
        pipeline_path + "envs/htslib.yaml"
    input:
        "{any_vcf}.vcf",
    output:
        temp("{any_vcf}.vcf.gz"),
    shell:
        """
        bgzip -c {input[0]} > {output[0]}
        """

rule index_vcf:
    conda:
        pipeline_path + "envs/htslib.yaml"
    input:
        "{any_vcf}.vcf.gz",
    output:
        temp("{any_vcf}.vcf.gz.tbi"),
    shell:
        """
        tabix -f -p vcf {input[0]}
        """
        
rule sort_vcf:
    conda:
        pipeline_path + "envs/bcftools.yaml"
    input:
        "{any_vcf}.vcf.gz",
    output:
        temp("{any_vcf}_sorted.vcf"),
    shell:
        """
        bcftools sort {input[0]}  > {output[0]}
        """
