rule index_vcf:
    conda:
        "../../envs/vt-bcftools.yaml"
    input:
        "samples/{sample}/snps/{snp_caller}/{ref}/{mapping_method}/{snp_name}.vcf",
    output:
        temp("samples/{sample}/snps/{snp_caller}/{ref}/{mapping_method}/{snp_name}.vcf.gz"),
        temp("samples/{sample}/snps/{snp_caller}/{ref}/{mapping_method}/{snp_name}.vcf.gz.tbi"),
    shell:
        """
        bgzip -c {input[0]} > {output[0]}
        tabix -f -p vcf {output[0]}
        """
