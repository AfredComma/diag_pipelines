include:
    "resistance.rules"

include:
    "virulence.rules"

rule report:
    input:
        qualimap_report = "quality/multiqc/assembly/multiqc_report.html",
        #buble_plot_maxbin = expand("samples/{sample}/binning/maxbin/gc_cov_buble_test.svg", sample=list(read_naming.keys())),
        #kaiju_phylum = expand("samples/{sample}/binning/kaiju/report_phylum.txt", sample=list(read_naming.keys())),
        #chekm_maxbin = expand("samples/{sample}/binning/maxbin/checkm_bacteria/storage/bin_stats.analyze.tsv",
        #                      sample=list(read_naming.keys()))
        # "samples/{sample}/binning/kaiju/report_phylum.txt",
        # "samples/{sample}/binning/maxbin/checkm_bacteria/storage/bin_stats.analyze.tsv",
    output:
        "report.html"
    run:
        from snakemake.utils import report

        # with open(input[0]) as vcf:
        #    n_calls = sum(1 for l in vcf if not l.startswith("#"))
        # n_samples = list(read_naming.keys()
        print (input.qualimap_report)
        report("""
                Metagenome assembly
                ===================================
        
                Number of samples:
                <a href="%s">multiqc report</a>
        
                """ % (input[0]), output[0])



'''
rule all:
    input:
        "quality/multiqc/assembly/multiqc_report.html",
        "resistance/rgi_summary.xlsx"
'''