include:
    "typing.rules"

if "shift_for_mapping" not in config.keys():
    shift = 300
else:
    shift = config["shift_for_mapping"]

if "mykrobe_panel" not in config.keys():
    mykrobe_panel = "bradley-2015"
else:
    mykrobe_panel = config["mykrobe_panel"]

if "mykrobe_confidence" not in config.keys():
    mykrobe_confidence = "10"
else:
    mykrobe_confidence = config["mykrobe_confidence"]
    
mykrobe_species = {}
mykrobe_species["Mycobacterium_tuberculosis"]="tb"
mykrobe_species["Staphylococcus_aureus"]="staph"

reference_assembly_for_resistance = {}
reference_assembly_for_resistance["Mycobacterium_tuberculosis"] = "538048"
reference_assembly_for_resistance["Escherichia_coli"] = "79781"


ontology_file_aro = pipeline_path + "data/card/obo_files/aro.obo"
ontology_file_mo = pipeline_path + "data/card/obo_files/mo.obo"
ontology_file_ro = pipeline_path + "data/card/obo_files/ro.obo"

include:
    pipeline_path + "rules/annotation/resistance/format_xlsx.rules"

include:
    pipeline_path + "rules/annotation/resistance/rgi.rules"

if species in reference_assembly_for_resistance.keys():
    include:
        pipeline_path + "rules/annotation/resistance/custom_annotated_dbs.rules"
    
if species == "Staphylococcus_aureus" or species == "Mycobacterium_tuberculosis":
    include:
        pipeline_path + "rules/annotation/resistance/mykrobe.rules"


